# Explorando Apache Camel en profundidad

---

## Realiza llamadas HTTP Rest API desde una ruta Camel

En el `camel-microservice-b` crearé un endpoint que mostrará un objeto hardcodeado. Simplemente, necesitamos tener un
rest controller que exponga un endpoint para realizar pruebas con Camel.

````java

@RestController
@RequestMapping(path = "/api/v1/currencies")
public class CurrencyExchangeController {

    @GetMapping(path = "/currency-exchange/from/{from}/to/{to}")
    public ResponseEntity<CurrencyExchange> findConversionValue(@PathVariable String from, @PathVariable String to) {
        return ResponseEntity.ok(new CurrencyExchange(1003L, from, to, BigDecimal.TEN));
    }

}
````

Si ejecutamos el `camel-microservice-b` y realizamos una petición al endpoint construído, veremos que está funcionando
sin problemas.

````bash
$ curl -v http://localhost:8000/api/v1/currencies/currency-exchange/from/USD/to/PEN | jq
>
< HTTP/1.1 200
< Content-Type: application/json
< Transfer-Encoding: chunked
< Date: Tue, 12 Nov 2024 15:03:12 GMT
<
{
  "id": 1003,
  "from": "USD",
  "to": "PEN",
  "conversionMultiple": 10
}
````
